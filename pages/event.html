<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link href="../modules/font-awesome/css/all.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="../style/style.css" type="text/css">
    <link rel="stylesheet" href="../style/event.css">
    <title>Site principal</title>
</head>
<body>
    <div class="cookie hidden d-flex fixed-bottom text-white align-items-center text-center justify-content-center p-3" style="height: 60px; background: rgba(131, 151, 238, 0.5); border-top: 2px solid white;"><span class="m-3">En naviguant sur notre site vous acceptez l'utilisation des cookies.</span><button class="cookie-btn" style="width: 50px; height: 30px; background: rgb(0, 0, 0, 0); color: white; border: 1px solid white; border-radius: 10px;">Ok</button></div>
    <a href="#" class="logo"><img src="../images/logo.png" alt="logo"></a>
    <div class="menu-btn">
        <div class="stick mb-4"></div>
        <div class="stick"></div>
        <div class="stick mt-4"></div>
    </div>
    <header class="fixed-top">
        <a href="#" class="logo"><img src="../images/logo.png" alt="logo"></a>
        <img class="cross animate__animated" src="../images/cross.png" alt="cross">
        <div class="header-header"></div>
        <nav class="d-flex flex-column align-items-center mt-5">
            <ul>
                <a href="../index.html"><li>HOME</li></a>
                <a href="#"><li>EVENEMENTS</li></a>
                <a href="../pages/blog.html"><li>BLOG</li></a>
                <a href="../pages/shop.html"><li>BOUTIQUE</li></a>
                <a href="../pages/tickets.html"><li>TICKETS</li></a>
            </ul>
        </nav>
        <div class="below-nav">
            <div class="stick1 m-auto"></div>
            <div class="stick2 m-auto"></div>
        </div>
        <div class="mt-3">
            <span><b>Retrouvez-nous sur :</b></span>
            <div class="mt-5 m-auto d-flex justify-content-around" style="width: 10%;">
                <a href="https://www.instagram.com/la_femme_le_paradigme/" target="_blank"><img src="../images/insta.png" alt="insta"></a>
                <a href="https://www.tiktok.com/@paaradigme?lang=fr" target="_blank"><img src="../images/tiktok.png" alt="tiktok"></a>
            </div>
        </div>
    </header>
    <main>
        <section id="section-chrono" class="d-flex flex-column align-items-center">
            <h1>EVENEMENTS</h1>
            <h2>LIVE CONCERT A DISTANCE LE 20 AVRIL 2021</h2>
            <div class="inputs d-flex align-items-center mt-5"><input type="text" placeholder="Exemple_Adresse@gmail.com"><div class="d-flex align-items-center"><button class="reminder">ME LE RAPPELER</button><button class="reminder-icon"><i class="fas fa-caret-right"></i></button></div></div>
            <div class="chrono d-flex align-items-center justify-content-center"></div>
            <div class="d-flex align-items-center mt-5 mb-5"><div class="d-flex flex-column align-items-center"><div class="mb-1" style="width: 40px; height: 1px; background-color: #E7498D;"></div><div style="width: 20px; height: 1px; background-color: #E7498D;"></div></div><a href="./tickets.html"><button class="reserve-btn m-3 text-white" style="font-size: 2rem;">RÉSERVEZ VOTRE PASS</button></a><div class="d-flex flex-column align-items-center"><div class="mb-1" style="width: 40px; height: 1px; background-color: #E7498D;"></div><div style="width: 20px; height: 1px; background-color: #E7498D;"></div></div></div>
        </section>
        <section id="section-dates" class="d-flex flex-column align-items-center">
            <h2 class="text-center w-50">RÉSERVEZ VOS PLACES POUR LA TOURNÉE DE LA FEMME PARTOUT EN FRANCE ET AILLEURS</h2>
            <div id="date-table" class="d-flex flex-column align-items-center">
                <div class="d-flex"><div class="case">DATE</div><div class="case">LIEU</div><div class="case"></div></div>
            </div>
        </section>
    </main>
    <footer class="d-flex flex-column align-items-center text-white mt-5 mb-5">
        <section class="d-flex flex-column align-items-center mb-5">
        <span class="w-75 text-center mb-2">Inscrivez-vous à notre Newsletter pour vous tenir au courant des différents évènements, challenge et concerts de La Femme</span>
        <div class="newsletter mt-2"><input type="text" class="text-white" style="width: 570px; height: 65px; padding-left: 20px;" placeholder="Exemple_Adresse@email.com"><button style="width: 181px; height: 65px;">SIGN UP</button></div>
        </section>
        <hr class="text-white" style="width: 90%; height: 1px; opacity: 1;">
        <section class="bottom-footer d-flex flex-column align-items-center mt-5">
            <div><span><u>Mention Légales</u></span>|<span><u>Politiques de protection des données personnelles</u></span>|<span><u>Cookies</u></span></div>
            <hr>
            <div class="d-flex justify-content-around align-items-center w-50">
                <a href="https://www.instagram.com/la_femme_le_paradigme/" target="_blank"><img src="../images/insta.png" alt="insta"></a>
                <a href="https://www.tiktok.com/@paaradigme?lang=fr" target="_blank"><img src="../images/tiktok.png" alt="tiktok"></a>
            </div>
        </section>
        <span style="position: relative; left: 35%;">@Designed and hosted by Smile Studio, 2021</span>
    </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="../modules/font-awesome/js/all.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-storage.js"></script>
    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
          apiKey: "AIzaSyCtr0RkMGMJAbCJaEyWipLjPKeMmMK28dI",
          authDomain: "lab201-2021.firebaseapp.com",
          projectId: "lab201-2021",
          storageBucket: "lab201-2021.appspot.com",
          messagingSenderId: "166186580563",
          appId: "1:166186580563:web:9a455becfc415a040ce4a6",
          measurementId: "G-CT4FPZXR6D"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        
        var db = firebase.firestore();

    </script>
    <script src="../js/app.js"></script>
    <script>
        // Set the date we're counting down to
        var countDownDate = new Date("Apr 21, 2021 21:00:00").getTime();
        
        // Update the count down every 1 second
        var x = setInterval(function() {
        
          // Get today's date and time
          var now = new Date().getTime();
            
          // Find the distance between now and the count down date
          var distance = countDownDate - now;
            
          // Time calculations for days, hours, minutes and seconds
          var days = Math.floor(distance / (1000 * 60 * 60 * 24));
          var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
          // Output the result in an element with id="demo"
          document.querySelector(".chrono").innerHTML = days + "D " + hours + "H "
          + minutes + "M " + seconds + "S ";
            
          // If the count down is over, write some text 
          if (distance < 0) {
            clearInterval(x);
            document.querySelector(".chrono").innerHTML = " ";
          }
        }, 1000);
        </script>
        <script>
        const dateTable = document.querySelector("#date-table");

        const fullDate = {
            days: {
                Mon: "Lundi",
                Tue: "Mardi",
                Wed: "Mercredi",
                Thu: "Jeudi",
                Fri: "Vendredi",
                Sat: "Samedi",
                Sun: "Dimanche"
            },
            months: {
                Jan: "Janvier",
                Feb: "Février",
                Mar: "Mars",
                Apr: "Avril",
                May: "Mai",
                Jun: "Juin",
                Jul: "Juillet",
                Aug: "Aout",
                Sep: "Septembre",
                Oct: "Octobre",
                Nov: "Novembre",
                Dec: "Décembre"
            }
        }

            db.collection("dates").get()
            .then((querySnapshot) => {
                querySnapshot.forEach((doc) => {
                    let data = doc.data();
                    let html = addDateCase(data);
                    dateTable.innerHTML += html
                    });
                });

            function addDateCase(data){
                let stringDate = data.date.toString().split("-").join(", ");
                let formatedDate = new Date(stringDate).toString().split(" ");
                formatedDate = formatedDate.slice(0, 4, formatedDate.length);
                let day = formatedDate[0];
                let month = formatedDate[1];
                formatedDate[0] = fullDate.days[day];
                formatedDate[1] = fullDate.months[month];
                let orderedDate = [formatedDate[0], formatedDate[2], formatedDate[1], formatedDate[3]].join(" ");
                
                if(data.full === false){
                    return `
                    <div class="d-flex"><div class="case-date">${orderedDate}</div><div class="case-date">${data.country}, ${data.city}, ${data.place}</div><div class="case" onclick="window.location.href ='./tickets.html'"><button>RÉSERVER</button></div></div>
                    `
                } else {
                    return`
                    <div class="d-flex"><div class="case-date">${orderedDate}</div><div class="case-date">${data.place}</div><div class="case-full"><button>COMPLET</button></div></div>
                    `
                }
            }
        </script>
</body>
</html>